# 오케스트레이션
- 컨테이너 관리와 운영을 자동화하는 것
  - 로드벨런싱 : 여러 컨테이너에 요청을 할당해 부하를 분산하는 것 
    - 로드벨런싱 장치를 컨테이너 앞에 배치하는 방법으로 요청을 배분한다.
  - 헬스 체크 : 컨테이너가 정상적으로 실행 중인지 여부 확인
    - 하나의 컨테이너에 요청을 보내고 정상적으로 응답을 반환하는지 확인
    - 웹 응용 프로그램의 경우 웹 서버, AP 서버, DB 서버의 각 계층 앞에 설치된 로드벨런싱 장치에서 각 계층에 포함된 컨테이너로 요청을 보내고 정상적으로 응답이 반환되는지 확인힌다.
    - 로드벨런싱과 헬스 체크를 결합해 로드벨런싱 장치에서 정상적으로 실행되지 않는 컨테이너로의 배분을 중지하면 시스템이 정상적으로 가동되는 시간을 늘릴 수 있다. 
  - 스케일링 : 요청 규모에 따라 컨테이너 늘리거나 줄이기
    - 요청 수의 측정 항목이 임계값을 초과하거나 현저히 낮아질 때 리소스를 증감하는 것 

### 쿠버네티스
- 오케스트레이션(컨테이너 관리 및 운영 자동화) 도구
  - 구글에서 개발해 2014년 오픈 소스로 공개
  - 컨테이너 운영 및 관리를 자동화 할 수 있어 컨테이너 운영에 드는 비용을 줄일 수 있다.

### 쿠버네티스 클러스터
- 쿠버네티스에서 관리하는 클러스터(집합)
  - 노드 : 클러스터를 구성하는 각 서버
  - 노드에는 워커 노드와 마스터 노드로 구성되어 있다.
    - 워커: 워커는 컨테이너를 실행하는데 필요한 런타임을 실행하고, kubelet과 kube-proxy라는 두 에이전트 프로그램을 실행한다.
  - 파드에는 하나 이상의 컨테이너가 존재한다. 사용자는 직접 워커 노드를 실행하지 않고, 마스터 노드를 통해 워커 노드를 실행한다.
  
### 파드
- 쿠버네티스가 컨테이너 관리하는 최소 단위
- 하나 이상의 컨테이너로 구성
- 한 파드에 있는 컨테이너들은 운명 공동체!
  - 같은 파드 내에 컨테이너는 스토리지와 네트워크를 공유하여 이를 통해 상호작용 가능
  - 프로세스의 네임스페이스를 공유하도록 설정 가능
  - 같은 파드 내에 컨테이너들은 라이프사이클이 같다.
  => 같은 파드 내에 컨테이너들을 밀접한 연관이 있기 때문에 같은 파드 내에 컨테이너를 넣을지 신중하게 판단해야 한다.
  => 일반적으로 '한 파드 당 한 컨테이너 원칙'을 지키고, 한 파드에 여러 컨테이너를 두는 경우는 사이드카 패턴인 경우다.
    - 보통 로그 수집, 캐시, 프록시/어댑터 등의 보조 역할을 담당하는 컨테이너를 같은 파드에 추가하는 방식을 사용한다.
    