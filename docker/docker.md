# 도커
- 컨테이너를 실행하거나 컨테이너 이미지를 만들고 배포하는 플랫폼
- 도커는 응용 프로그램을 실행 환경 단위로 패키지화해 컨테이너 이미지를 만든다.
- 컨테이너 이미지는 컨테이너 레지스트리를 통해 개발 환경에서 프로덕션 환경으로 배포할 수 있다.
- 실행 환경까지 패키지화하기 때문에 개발이나 운영 환경에서 동일한 방식으로 응용 프로그램을 실행할 수 있다.

### 도커 엔진
- 컨테이너 및 컨테이너 이미지를 관리하는 응용 프로그램
- 도커 엔진은 클라이언트 서버 유형의 응용 프로그램이며 클라이언트인 도커 클라이언트에서 도커 데몬 API에 접속해 컨테이너 및 컨테이너 이미지에 대한 다양한 작업을 수행할 수 있다.
- 도커 엔진은 도커 클라이언트, 도커 데몬, 컨테이너 레지스트리로 구성되어 있다.

**도커 클라이언트**
  - 사용자는 도커 클라이언트를 조작해 도커 데몬과 통신한다.

**도커 데몬**
  - 도커 클라이언트 요청에 의해 도커 객체를 관리하 구성 요소
  - 도커 객체
    - 도커 데몬 관리 대상
    - 컨테이너나 컨테이너 이미지, 컨테이너가 외부와 통신하기 위해서 필요한 네트워크나 데이터를 영속화하기 위해 필요한 볼륨 등도 도커 객체다.
    
**컨테이너 레지스트리**
  - 컨테이너 이미지 저장하기 위한 구성 요소
  - 공용 컨테이너 레지스트리인 도커 허브가 있다.
    - 리포지터리는 컨테이너 이미지에 태그라는 라벨을 붙여서 관리한다. 태그는 latest나 stable 등의 단어가 사용된다.

### 도커 컨테이너
- 운영체제에서 실행되는 프로세스
- 컨테이너가 일반 프로세스와 다른 점은 다른 프로세스와 격리되도록 설정되어 있다는 점이다.
- 컨테이너를 사용하면 외부 환경에 영향을 받지 않는 독립적인 환경에서 프로세스를 실행할 수 있다.
- 컨테이너를 외부와 격리하기 위해 네임스페이스를 활용한다.

### 컨테이너 이미지
- 컨테이너 실행을 위한 템플릿
- 컨테이너 이미지를 기반으로 컨테이너 
- 컨테이너 이미지 대부분은 컨테이너 실행에 필요한 필요한 파일 시스템이며, 파일 시스템은 레이어라는 층이 겹쳐서 구성된다.

### 컨테이너
**데이터를 컨테이너에 포함하지 않는다.**
  - 일반적으로 애플리케이션용 컨테이너와 데이터는 분리된다. 또한 데이터를 저장할 호스트 OS 디렉터리를 지정할 수 있다.
  - 따라서 애플리케이션용 컨테이너를 삭제해도 데이터는 손실되지 않으며 새 컨테이너에서 데이터를 사용할 수 있다.

**도커에서 프로세스 별로 컨테이너를 분리하는 것이 좋다.**
- 한 컨테이너가 병목이 발생하면 그 컨테이너만 여러대 가동해 부하를 분산해서 처리 능력을 개선할 수 있다.
- 또한 컨테이너는 프로세스 별로 컨테이너를 분리해도 성능이 저하가 거의 없다. 반면에 가상 서버는 프로세스 별로 컨테이너를 나누면 성능 저하의 우려가 있다.
- 컨테이너 수가 늘어남에 따라 이를 관리하는 난이도가 높아질 수 있는데, 이건 오케스트레이션 기술(쿠버네티스)로 해결이 가능핟.
  